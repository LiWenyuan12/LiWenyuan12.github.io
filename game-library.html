<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>GameBox æ¸¸ç›’ - æ¸¸æˆåº“</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="index.css" />
  <style>
    /* å®æ—¶æ•°æ®åŠ¨ç”» */
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    
    /* æ¸¸æˆå¡ç‰‡å¢å¼º */
    .game-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      animation: slideIn 0.5s ease-out;
      position: relative;
      overflow: hidden;
    }
    
    .game-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(56, 189, 248, 0.1), transparent);
      transition: left 0.5s;
    }
    
    .game-card:hover::before {
      left: 100%;
    }
    
    .game-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(56, 189, 248, 0.3);
      border-color: rgba(56, 189, 248, 0.8);
    }
    
    /* å®æ—¶æ•°æ®å¾½ç«  */
    .live-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 500;
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      animation: pulse 2s infinite;
    }
    
    .live-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: white;
      animation: pulse 1.5s infinite;
    }
    
    /* æ¸¸æˆç»Ÿè®¡æ•°æ® */
    .game-stats {
      margin-top: 8px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      font-size: 0.9em;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 3px 8px;
      border-radius: 6px;
      background: rgba(15, 23, 42, 0.6);
      border: 1px solid rgba(56, 189, 248, 0.2);
    }
    
    .stat-icon {
      font-size: 1.1em;
    }
    
    .stat-value {
      font-weight: 600;
      color: #e0f2fe;
    }
    
    /* è¶‹åŠ¿æŒ‡ç¤ºå™¨ */
    .trending-hot {
      color: #ef4444;
      font-size: 1.2em;
      animation: pulse 1s infinite;
    }
    
    .trending-up {
      color: #10b981;
    }
    
    .trending-down {
      color: #f59e0b;
    }
    
    .trending-stable {
      color: #6b7280;
    }
    
    /* æŠ˜æ‰£æ ‡ç­¾ */
    .discount-badge {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 4px 10px;
      border-radius: 6px;
      background: linear-gradient(135deg, #ef4444, #dc2626);
      color: white;
      font-weight: 700;
      font-size: 0.9em;
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.5);
      z-index: 1;
    }
    
    /* ä»·æ ¼å±•ç¤º */
    .price-container {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 4px;
    }
    
    .price-original {
      text-decoration: line-through;
      color: #9ca3af;
      font-size: 0.9em;
    }
    
    .price-current {
      color: #10b981;
      font-weight: 700;
      font-size: 1.1em;
    }
    
    /* ç­›é€‰æ å¢å¼º */
    .filter-section {
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.9));
      border: 1px solid rgba(56, 189, 248, 0.3);
    }
    
    /* æ’åºæŒ‰é’®ç»„ */
    .sort-buttons {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    
    .sort-btn {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(56, 189, 248, 0.3);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-muted);
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .sort-btn:hover {
      border-color: rgba(56, 189, 248, 0.6);
      background: rgba(15, 23, 42, 1);
    }
    
    .sort-btn.active {
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.3), rgba(56, 189, 248, 0.2));
      border-color: rgba(56, 189, 248, 0.8);
      color: #e0f2fe;
      box-shadow: 0 0 12px rgba(56, 189, 248, 0.3);
    }
    
    /* ç»Ÿè®¡é¢æ¿ */
    .stats-panel {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }
    
    .stat-card {
      padding: 12px;
      border-radius: 10px;
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.1), rgba(15, 23, 42, 0.8));
      border: 1px solid rgba(56, 189, 248, 0.3);
      text-align: center;
    }
    
    .stat-card-label {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 4px;
    }
    
    .stat-card-value {
      font-size: 18px;
      font-weight: 700;
      color: #e0f2fe;
    }
    
    /* åŠ è½½éª¨æ¶å± */
    .skeleton {
      background: linear-gradient(90deg, 
        rgba(15, 23, 42, 0.9) 25%, 
        rgba(56, 189, 248, 0.1) 50%, 
        rgba(15, 23, 42, 0.9) 75%
      );
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 10px;
    }
    
    /* æ¸¸æˆå°é¢å®¹å™¨ */
    .game-cover-container {
      position: relative;
      width: 90px;
      height: 90px;
      border-radius: 12px;
      overflow: hidden;
      flex-shrink: 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    .game-cover {
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      transition: transform 0.3s;
    }
    
    .game-card:hover .game-cover {
      transform: scale(1.1);
    }
    
    /* ç©ºçŠ¶æ€ */
    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #6b7280;
    }
    
    .empty-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }
  </style>
</head>
<body data-current-page="library">
<div class="page">
  <header class="header">
    <div class="header-inner">
      <a href="index.html" class="logo">
        <div class="logo-mark">G</div>
        <div>
          <div>GameBox æ¸¸ç›’</div>
          <div class="logo-sub">LIGHTWEIGHT GAME HUB</div>
        </div>
      </a>

      <nav class="nav-main">
        <a href="index.html" data-page="home" class="nav-link">é¦–é¡µ</a>
        <a href="news-list.html" data-page="news" class="nav-link">èµ„è®¯</a>
        <a href="game-library.html" data-page="library" class="nav-link">æ¸¸æˆåº“</a>
        <a href="ranking.html" data-page="ranking" class="nav-link">
          æ’è¡Œæ¦œ <span class="badge">HOT</span>
        </a>
        <a href="discount.html" data-page="discount" class="nav-link">æŠ˜æ‰£ / å²ä½</a>
        <a href="community.html" data-page="community" class="nav-link">ç¤¾åŒº</a>
        <a href="my-library.html" data-page="my" class="nav-link">æˆ‘çš„æ¸¸æˆ</a>
        <a href="tools.html" data-page="tools" class="nav-link">å·¥å…·ä¸­å¿ƒ</a>
        <a href="profile.html" data-page="profile" class="nav-link">ç”¨æˆ·ä¸­å¿ƒ</a>
      </nav>

      <div class="header-right">
        <div class="header-search">
          <input type="text" placeholder="æœç´¢æ¸¸æˆ / èµ„è®¯ / å¸–å­" />
          <span class="header-search-icon">ğŸ”</span>
        </div>
        <button class="header-user">æœªç™»å½• Â· æ¸¸å®¢</button>
      </div>
    </div>
  </header>

  <main class="main">
    <section>
      <div class="card">
        <div class="page-title">æ¸¸æˆåº“</div>
        <div class="page-intro">
          é€šè¿‡åç§°ã€ç±»å‹ã€å¹³å°å’Œä»·æ ¼åŒºé—´æ¥ç­›é€‰ä½ æ„Ÿå…´è¶£çš„æ¸¸æˆï¼ŒæŸ¥çœ‹å®æ—¶åœ¨çº¿ç©å®¶æ•°å’Œæ¸¸æˆçƒ­åº¦ã€‚
        </div>
      </div>

      <div class="card filter-section">
        <header class="card-header">
          <div class="card-title">
            <span class="dot"></span>
            <span>ç­›é€‰ä¸æ’åº</span>
          </div>
          <div class="live-badge">
            <span class="live-dot"></span>
            å®æ—¶æ•°æ®
          </div>
        </header>

        <div class="form">
          <div class="form-row">
            <label for="libSearch">æŒ‰åç§°æœç´¢</label>
            <input type="text" id="libSearch" placeholder="è¾“å…¥æ¸¸æˆåï¼Œå¦‚ï¼šåŸç¥ã€é»‘ç¥è¯" />
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
            <div class="form-row">
              <label for="libType">æ¸¸æˆç±»å‹</label>
              <select id="libType">
                <option value="all">å…¨éƒ¨ç±»å‹</option>
                <option value="å¼€æ”¾ä¸–ç•Œ">å¼€æ”¾ä¸–ç•Œ</option>
                <option value="åŠ¨ä½œ">åŠ¨ä½œ</option>
                <option value="é­‚ç±»">é­‚ç±»</option>
                <option value="å›åˆåˆ¶RPG">å›åˆåˆ¶RPG</option>
                <option value="æ¨¡æ‹Ÿç»è¥">æ¨¡æ‹Ÿç»è¥</option>
                <option value="æ²™ç›’">æ²™ç›’</option>
                <option value="Roguelike">Roguelike</option>
                <option value="ç”Ÿå­˜">ç”Ÿå­˜</option>
                <option value="ç«æŠ€å°„å‡»">ç«æŠ€å°„å‡»</option>
              </select>
            </div>

            <div class="form-row">
              <label for="libPrice">ä»·æ ¼åŒºé—´</label>
              <select id="libPrice">
                <option value="all">å…¨éƒ¨</option>
                <option value="free">å…è´¹ / F2P</option>
                <option value="low">50 å…ƒä»¥ä¸‹</option>
                <option value="mid">50-200 å…ƒ</option>
                <option value="high">200 å…ƒä»¥ä¸Š</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <label>æ’åºæ–¹å¼</label>
            <div class="sort-buttons">
              <button class="sort-btn active" data-sort="hot">ğŸ”¥ çƒ­åº¦æ’è¡Œ</button>
              <button class="sort-btn" data-sort="rating">â­ è¯„åˆ†æœ€é«˜</button>
              <button class="sort-btn" data-sort="online">ğŸ‘¥ åœ¨çº¿äººæ•°</button>
              <button class="sort-btn" data-sort="discount">ğŸ’° æŠ˜æ‰£åŠ›åº¦</button>
              <button class="sort-btn" data-sort="new">ğŸ†• æœ€æ–°ä¸Šæ¶</button>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <header class="card-header">
          <div class="card-title">
            <span class="dot"></span>
            <span>ç­›é€‰ç»“æœ</span>
          </div>
          <div style="display: flex; gap: 8px; align-items: center;">
            <div class="chip" id="libResultCount">å…± 0 æ¬¾</div>
          </div>
        </header>
        <div id="libList" class="game-list">
          <!-- éª¨æ¶å± -->
          <div class="game-card skeleton" style="height: 120px;"></div>
          <div class="game-card skeleton" style="height: 120px;"></div>
          <div class="game-card skeleton" style="height: 120px;"></div>
        </div>
      </div>
    </section>

    <aside>
      <div class="sidebar-card">
        <div class="sidebar-title">ğŸ“Š å®æ—¶ç»Ÿè®¡</div>
        
        <div class="stats-panel">
          <div class="stat-card">
            <div class="stat-card-label">æ€»åœ¨çº¿ç©å®¶</div>
            <div class="stat-card-value" id="totalOnline">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-card-label">æŠ˜æ‰£æ¸¸æˆ</div>
            <div class="stat-card-value" id="discountCount">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-card-label">å¹³å‡è¯„åˆ†</div>
            <div class="stat-card-value" id="avgRating">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-card-label">æœ€çƒ­æ¸¸æˆ</div>
            <div class="stat-card-value" id="hotestGame" style="font-size: 12px;">-</div>
          </div>
        </div>
        
        <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(56, 189, 248, 0.2);">
          <div class="sidebar-item">
            <span class="label">æ›´æ–°é¢‘ç‡</span>
            <span class="value">æ¯ 30 ç§’</span>
          </div>
          <div class="sidebar-item">
            <span class="label">æ•°æ®æ¥æº</span>
            <span class="value">æ¨¡æ‹Ÿå®æ—¶</span>
          </div>
          <div class="sidebar-item">
            <span class="label">ä¸Šæ¬¡æ›´æ–°</span>
            <span class="value" id="lastUpdate">-</span>
          </div>
        </div>
      </div>

      <div class="sidebar-card" style="margin-top: 16px;">
        <div class="sidebar-title">ğŸ”¥ çƒ­é—¨æ ‡ç­¾</div>
        <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px;">
          <span class="pill" style="cursor: pointer;" data-type="å¼€æ”¾ä¸–ç•Œ">å¼€æ”¾ä¸–ç•Œ</span>
          <span class="pill pill-soft" style="cursor: pointer;" data-type="åŠ¨ä½œ">åŠ¨ä½œ</span>
          <span class="pill pill-soft" style="cursor: pointer;" data-type="æ²™ç›’">æ²™ç›’</span>
          <span class="pill pill-soft" style="cursor: pointer;" data-type="ç«æŠ€å°„å‡»">ç«æŠ€å°„å‡»</span>
          <span class="pill pill-soft" style="cursor: pointer;" data-type="Roguelike">Roguelike</span>
        </div>
      </div>
    </aside>
  </main>
</div>

<script src="common.js"></script>
<script>
  initCommon();

  let gameData = [];
  let filteredData = [];
  let updateInterval = null;
  let currentSort = 'hot';

  const libSearch = document.getElementById("libSearch");
  const libType = document.getElementById("libType");
  const libPrice = document.getElementById("libPrice");
  const libList = document.getElementById("libList");
  const libResultCount = document.getElementById("libResultCount");
  const totalOnline = document.getElementById("totalOnline");
  const discountCount = document.getElementById("discountCount");
  const avgRating = document.getElementById("avgRating");
  const hotestGame = document.getElementById("hotestGame");
  const lastUpdate = document.getElementById("lastUpdate");

  // æ ¼å¼åŒ–æ•°å­—
  function formatNumber(num) {
    if (!num) return '0';
    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
    if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
    return num.toLocaleString();
  }

  // è·å–è¶‹åŠ¿å›¾æ ‡
  function getTrendingIcon(trending) {
    const icons = {
      'hot': '<span class="trending-hot">ğŸ”¥</span>',
      'up': '<span class="trending-up">ğŸ“ˆ</span>',
      'down': '<span class="trending-down">ğŸ“‰</span>',
      'stable': '<span class="trending-stable">â–</span>'
    };
    return icons[trending] || '';
  }

  // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
  function updateStats() {
    const total = gameData.reduce((sum, g) => sum + (g.onlinePlayers || 0), 0);
    const discounts = gameData.filter(g => g.discount && g.discount > 0).length;
    const avgScore = (gameData.reduce((sum, g) => sum + g.rating, 0) / gameData.length).toFixed(1);
    const hottest = gameData.reduce((max, g) => g.hotness > max.hotness ? g : max, gameData[0]);
    
    if (totalOnline) totalOnline.textContent = formatNumber(total);
    if (discountCount) discountCount.textContent = discounts;
    if (avgRating) avgRating.textContent = avgScore;
    if (hotestGame) hotestGame.textContent = hottest?.name || '-';
    if (lastUpdate) {
      const now = new Date();
      lastUpdate.textContent = now.toLocaleTimeString('zh-CN');
    }
  }

  // ç­›é€‰æ•°æ®
  function filterData() {
    let filtered = [...gameData];

    // å…³é”®è¯æœç´¢
    const kw = libSearch.value.trim().toLowerCase();
    if (kw) {
      filtered = filtered.filter(g =>
        g.name.toLowerCase().includes(kw) || g.description.toLowerCase().includes(kw)
      );
    }

    // ç±»å‹ç­›é€‰
    if (libType.value !== "all") {
      filtered = filtered.filter(g => g.type === libType.value);
    }

    // ä»·æ ¼ç­›é€‰
    if (libPrice.value === "free") {
      filtered = filtered.filter(g => g.priceNow === 0);
    } else if (libPrice.value === "low") {
      filtered = filtered.filter(g => g.priceNow > 0 && g.priceNow < 50);
    } else if (libPrice.value === "mid") {
      filtered = filtered.filter(g => g.priceNow >= 50 && g.priceNow <= 200);
    } else if (libPrice.value === "high") {
      filtered = filtered.filter(g => g.priceNow > 200);
    }

    // æ’åº
    switch (currentSort) {
      case 'hot':
        filtered.sort((a, b) => b.hotness - a.hotness);
        break;
      case 'rating':
        filtered.sort((a, b) => b.rating - a.rating);
        break;
      case 'online':
        filtered.sort((a, b) => (b.onlinePlayers || 0) - (a.onlinePlayers || 0));
        break;
      case 'discount':
        filtered.sort((a, b) => (b.discount || 0) - (a.discount || 0));
        break;
      case 'new':
        filtered.sort((a, b) => b.id - a.id);
        break;
    }

    filteredData = filtered;
    return filtered;
  }

  // æ¸²æŸ“æ¸¸æˆåˆ—è¡¨
  function renderList() {
    const filtered = filterData();
    
    libResultCount.textContent = `å…± ${filtered.length} æ¬¾`;
    libList.innerHTML = "";

    if (filtered.length === 0) {
      libList.innerHTML = `
        <div class="empty-state">
          <div class="empty-icon">ğŸ®</div>
          <div style="font-size: 16px; margin-bottom: 8px;">æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ¸¸æˆ</div>
          <div style="font-size: 14px; color: #9ca3af;">è¯•è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶</div>
        </div>
      `;
      return;
    }

    filtered.forEach((game, index) => {
      const div = document.createElement("div");
      div.className = "game-card";
      div.style.animationDelay = `${index * 0.05}s`;

      // æ„å»ºå®æ—¶æ•°æ®æ˜¾ç¤º
      let statsHTML = '';
      if (game.onlinePlayers !== undefined) {
        statsHTML = `
          <div class="game-stats">
            <span class="stat-item">
              <span class="stat-icon">ğŸ‘¥</span>
              <span class="stat-value">${formatNumber(game.onlinePlayers)}</span>
            </span>
        `;

        if (game.peakPlayers) {
          statsHTML += `
            <span class="stat-item">
              <span class="stat-icon">ğŸ“Š</span>
              <span class="stat-value">å³°å€¼ ${formatNumber(game.peakPlayers)}</span>
            </span>
          `;
        }

        if (game.averagePlayTime) {
          statsHTML += `
            <span class="stat-item">
              <span class="stat-icon">â±ï¸</span>
              <span class="stat-value">${game.averagePlayTime}h</span>
            </span>
          `;
        }

        if (game.trending) {
          statsHTML += `
            <span class="stat-item">
              ${getTrendingIcon(game.trending)}
            </span>
          `;
        }

        statsHTML += '</div>';
      }

      // ä»·æ ¼æ˜¾ç¤º
      let priceHTML = '';
      if (game.discount > 0) {
        priceHTML = `
          <div class="price-container">
            <span class="price-original">Â¥${game.priceOriginal}</span>
            <span class="price-current">Â¥${game.priceNow}</span>
          </div>
        `;
      } else if (game.priceNow > 0) {
        priceHTML = `
          <div class="price-container">
            <span class="price-current">Â¥${game.priceNow}</span>
          </div>
        `;
      } else {
        priceHTML = `
          <div class="price-container">
            <span class="price-current" style="color: #10b981;">å…è´¹æ¸¸ç©</span>
          </div>
        `;
      }

      div.innerHTML = `
        ${game.discount > 0 ? `<div class="discount-badge">-${game.discount}%</div>` : ''}
        <div class="game-cover-container">
          <div class="game-cover" style="background-image:url('${game.cover}')"></div>
        </div>
        <div class="game-info">
          <div class="game-name">${game.name}</div>
          <div class="game-meta">
            ${game.type} â€¢ â­ ${game.rating} â€¢ ğŸ”¥ ${game.hotness}
          </div>
          <div class="game-desc">${game.description}</div>
          ${priceHTML}
          ${statsHTML}
        </div>
      `;

      libList.appendChild(div);
    });
  }

  // æ¨¡æ‹Ÿå®æ—¶æ•°æ®æ›´æ–°
  function simulateLiveUpdate() {
    gameData.forEach(game => {
      if (game.onlinePlayers !== undefined) {
        // åœ¨çº¿ç©å®¶æ•°éšæœºæ³¢åŠ¨ Â±3%
        const change = game.onlinePlayers * 0.03 * (Math.random() - 0.5);
        game.onlinePlayers = Math.max(0, Math.round(game.onlinePlayers + change));
        
        // éšæœºæ›´æ–°è¶‹åŠ¿
        const rand = Math.random();
        if (rand > 0.97) {
          game.trending = 'hot';
        } else if (rand > 0.75) {
          game.trending = 'up';
        } else if (rand > 0.6) {
          game.trending = 'down';
        } else {
          game.trending = 'stable';
        }
      }
    });
    
    renderList();
    updateStats();
  }

  // æ’åºæŒ‰é’®äº‹ä»¶
  document.querySelectorAll('.sort-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelector('.sort-btn.active')?.classList.remove('active');
      btn.classList.add('active');
      currentSort = btn.dataset.sort;
      renderList();
    });
  });

  // å¿«é€Ÿæ ‡ç­¾ç­›é€‰
  document.querySelectorAll('[data-type]').forEach(tag => {
    tag.addEventListener('click', () => {
      libType.value = tag.dataset.type;
      renderList();
    });
  });

  // åŠ è½½æ¸¸æˆæ•°æ®
  fetch("games-library.json")
    .then(res => res.json())
    .then(data => {
      gameData = data;
      renderList();
      updateStats();
      
      // å¯åŠ¨å®šæ—¶æ›´æ–°ï¼ˆ30ç§’ï¼‰
      if (updateInterval) clearInterval(updateInterval);
      updateInterval = setInterval(simulateLiveUpdate, 30000);
    })
    .catch(err => {
      console.error(err);
      libList.innerHTML = `
        <div class="empty-state">
          <div class="empty-icon">âŒ</div>
          <div style="color: #ef4444;">åŠ è½½å¤±è´¥ï¼šæ‰¾ä¸åˆ° games-library.json</div>
        </div>
      `;
    });

  // ç­›é€‰äº‹ä»¶
  libSearch.addEventListener("input", renderList);
  libType.addEventListener("change", renderList);
  libPrice.addEventListener("change", renderList);

  // æ¸…ç†å®šæ—¶å™¨
  window.addEventListener('beforeunload', () => {
    if (updateInterval) clearInterval(updateInterval);
  });
</script>
</body>
</html>
